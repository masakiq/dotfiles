# commit 時に `-v` オプションを付与
bind status C !git commit -v

# commit hash をクリップボードに保存
bind main  C !@sh -c "printf `git rev-parse --short %(commit)` | pbcopy"
bind log   C !@sh -c "printf `git rev-parse --short %(commit)` | pbcopy"
bind blame C !@sh -c "printf `git rev-parse --short %(commit)` | pbcopy"

# file path をクリップボードに保存
bind tree  C !@sh -c "printf %(file) | pbcopy"
bind diff  C !@sh -c "printf %(file) | pbcopy"
bind stage C !@sh -c "printf %(file) | pbcopy"

# commit を hub で開く
bind main  G !@sh -c "hub browse -- commit/`git rev-parse --short %(commit)`"
bind diff  G !@sh -c "hub browse -- commit/`git rev-parse --short %(commit)`"
bind log   G !@sh -c "hub browse -- commit/`git rev-parse --short %(commit)`"
bind blame G !@sh -c "hub browse -- commit/`git rev-parse --short %(commit)`"

# rebase する
bind main R !git rebase --committer-date-is-author-date -i %(commit)

# diff を開く
bind main   D !sh -c "git difftool %(commit)~ %(commit)"
bind refs   D !sh -c "git difftool %(branch)"
bind status D !sh -c "git difftool %(file)"
bind diff   D !sh -c "git difftool `git rev-list --parents -n 1 %(commit) | cut -d ' ' -f 2` %(commit) -- %(file)"

set blame-view = date:default author:abbreviated file-name:auto id:yes,color date:relative line-number:yes,interval=1 text
